import React, { Component } from 'react'
import { Spring, animated } from 'react-spring'
import { interpolate } from 'flubber'
import { GradientTealBlue as Gradient } from '@vx/gradient'

// const paths = [
//   'M415.05 141.97C471.04 141.97 516.42 191.07 516.42 251.64C516.43 419.37 313.69 502.61 313.69 507.23C313.69 507.23 313.69 507.23 313.69 507.23C313.69 502.61 110.95 419.37 110.95 251.63C110.95 191.06 156.33 141.96 212.32 141.96C268.3 141.96 313.69 184.98 313.68 245.56C313.68 184.99 359.06 141.97 415.05 141.97Z',
//   'M413.7 157.78L417.56 158.17L421.37 158.72L425.13 159.41L428.84 160.24L432.49 161.22L436.08 162.34L439.62 163.59L443.08 164.97L446.48 166.49L449.8 168.13L453.06 169.89L456.23 171.78L459.32 173.78L462.33 175.9L465.26 178.13L468.09 180.46L470.83 182.9L473.48 185.45L476.02 188.09L478.47 190.83L480.81 193.66L483.04 196.58L485.15 199.59L487.16 202.68L489.05 205.85L490.81 209.1L492.46 212.42L493.97 215.81L495.36 219.27L496.61 222.8L497.73 226.39L498.71 230.04L499.54 233.74L500.23 237.5L500.78 241.31L501.17 245.16L501.41 249.06L501.49 253L501.13 263.82L500.1 274.36L498.42 284.63L496.13 294.63L493.27 304.35L489.87 313.8L485.96 322.97L481.6 331.88L476.8 340.5L471.6 348.86L466.05 356.95L460.18 364.77L454.01 372.31L447.6 379.59L440.97 386.59L434.16 393.33L427.21 399.8L420.16 406L413.03 411.94L405.86 417.61L398.69 423.01L391.56 428.14L384.5 433.01L377.55 437.62L370.75 441.96L364.12 446.03L357.7 449.84L351.54 453.39L345.67 456.68L340.12 459.7L334.92 462.47L330.12 464.97L325.75 467.21L321.85 469.19L318.45 470.91L315.59 472.38L313.3 473.58L311.62 474.52L310.58 475.21L310.23 475.64L309.88 475.21L308.85 474.52L307.17 473.58L304.88 472.38L302.01 470.91L298.61 469.19L294.71 467.21L290.34 464.97L285.54 462.47L280.35 459.7L274.8 456.68L268.92 453.39L262.76 449.84L256.35 446.03L249.72 441.96L242.91 437.62L235.96 433.01L228.9 428.14L221.77 423.01L214.61 417.61L207.44 411.94L200.31 406.01L193.25 399.8L186.3 393.33L179.49 386.6L172.87 379.59L166.45 372.31L160.29 364.77L154.42 356.95L148.86 348.87L143.67 340.51L138.87 331.88L134.5 322.98L130.6 313.8L127.2 304.36L124.34 294.64L122.05 284.64L120.37 274.37L119.34 263.83L118.99 253.01L119.07 249.07L119.3 245.17L119.69 241.32L120.24 237.51L120.93 233.75L121.77 230.05L122.74 226.4L123.86 222.81L125.11 219.28L126.5 215.82L128.02 212.43L129.66 209.11L131.42 205.86L133.31 202.69L135.32 199.59L137.43 196.59L139.66 193.67L142 190.84L144.45 188.1L146.99 185.46L149.64 182.91L152.38 180.47L155.21 178.14L158.13 175.91L161.14 173.79L164.24 171.79L167.41 169.9L170.66 168.14L173.99 166.5L177.39 164.98L180.85 163.6L184.38 162.35L187.98 161.23L191.63 160.25L195.34 159.42L199.1 158.73L202.91 158.18L206.77 157.79L210.67 157.56L214.61 157.48L218.56 157.55L222.46 157.75L226.31 158.1L230.12 158.58L233.89 159.19L237.59 159.93L241.25 160.8L244.84 161.79L248.37 162.91L251.84 164.16L255.23 165.52L258.56 166.99L261.81 168.59L264.99 170.3L268.08 172.11L271.09 174.04L274.01 176.08L276.85 178.22L279.59 180.46L282.23 182.81L284.78 185.25L287.22 187.79L289.56 190.43L291.79 193.15L293.91 195.97L295.91 198.88L297.8 201.87L299.57 204.95L301.21 208.11L302.73 211.35L304.11 214.67L305.37 218.06L306.48 221.53L307.46 225.07L308.3 228.68L308.99 232.36L309.53 236.1L309.92 239.91L310.16 243.78L310.24 247.71L310.32 243.78L310.56 239.91L310.95 236.1L311.49 232.36L312.18 228.68L313.02 225.07L313.99 221.53L315.11 218.06L316.36 214.66L317.75 211.35L319.27 208.11L320.91 204.94L322.68 201.87L324.56 198.87L326.57 195.97L328.68 193.15L330.91 190.42L333.25 187.78L335.7 185.24L338.24 182.8L340.89 180.45L343.63 178.21L346.46 176.07L349.38 174.03L352.39 172.11L355.49 170.29L358.66 168.58L361.91 166.99L365.24 165.51L368.64 164.15L372.1 162.9L375.63 161.79L379.23 160.79L382.88 159.92L386.59 159.18L390.35 158.57L394.16 158.09L398.02 157.74L401.92 157.54L405.86 157.47L409.8 157.55L413.7 157.78ZM447.5 333.78L447.5 325.74L416.49 325.74L416.49 287.84L447.5 287.84L447.5 282.09L402.7 282.09L402.7 325.74L411.89 325.74L411.89 333.78L434.86 333.78L434.86 352.16L402.7 352.16L402.7 364.8L444.05 364.8L444.05 333.78L447.5 333.78ZM342.97 355.61L352.16 355.61L352.16 320L391.22 320L391.22 287.84L388.92 287.84L388.92 282.09L342.97 282.09L342.97 355.61ZM286.69 352.16L320.29 352.16L320.29 352.2L325.31 352.16L326.89 352.16L326.89 352.15L330.62 352.12L330.05 282.05L319.72 282.14L320.21 342.97L297.03 342.97L297.03 277.5L286.69 277.5L286.69 352.16ZM239.02 352.16L263.72 352.16L263.72 345.27L239.02 345.27L239.02 352.16ZM154.59 283.24L197.09 283.24L197.09 347.57L205.14 347.57L205.14 279.8L201.69 279.8L201.69 276.35L154.59 276.35L154.59 283.24ZM236.15 342.4L236.15 342.57L236.17 342.73L236.19 342.9L236.22 343.06L236.27 343.21L236.32 343.37L236.37 343.52L236.44 343.66L236.51 343.8L236.6 343.94L236.68 344.07L236.78 344.19L236.88 344.31L236.99 344.43L237.1 344.54L237.22 344.64L237.35 344.73L237.48 344.82L237.62 344.9L237.76 344.98L237.9 345.04L238.05 345.1L238.2 345.15L238.36 345.19L238.52 345.23L238.69 345.25L238.85 345.27L239.02 345.27L239.19 345.27L239.36 345.25L239.52 345.23L239.68 345.19L239.84 345.15L239.99 345.1L240.14 345.04L240.28 344.98L240.42 344.9L240.56 344.82L240.69 344.73L240.82 344.64L240.94 344.54L241.05 344.43L241.16 344.31L241.26 344.19L241.36 344.07L241.44 343.94L241.53 343.8L241.6 343.66L241.67 343.52L241.72 343.37L241.77 343.21L241.82 343.06L241.85 342.9L241.87 342.73L241.89 342.57L241.89 342.4L241.89 282.09L269.46 282.09L269.46 272.91L236.15 272.91L236.15 342.4ZM352.16 311.39L352.16 293.58L383.18 293.58L383.18 311.39L352.16 311.39Z',
//   'M415.05 141.97C471.04 141.97 516.42 191.07 516.42 251.64C516.43 419.37 313.69 502.61 313.69 507.23C313.69 507.23 313.69 507.23 313.69 507.23C313.69 502.61 110.95 419.37 110.95 251.63C110.95 191.06 156.33 141.96 212.32 141.96C268.3 141.96 313.69 184.98 313.68 245.56C313.68 184.99 359.06 141.97 415.05 141.97Z',
//   'M325.75 178.83L331.46 179.23L337.1 179.71L342.64 180.27L348.1 180.92L353.47 181.64L358.73 182.44L363.89 183.32L368.95 184.26L373.89 185.28L378.71 186.37L383.41 187.53L387.99 188.75L392.43 190.04L396.74 191.38L400.9 192.79L404.92 194.26L408.79 195.79L412.5 197.37L416.06 199L419.45 200.69L422.67 202.42L425.72 204.21L428.59 206.04L431.27 207.91L433.77 209.83L436.07 211.79L438.18 213.79L440.09 215.82L441.79 217.89L443.27 220L444.55 222.13L445.6 224.3L446.42 226.5L447.02 228.72L447.38 230.97L447.5 233.24L447.38 235.47L447.78 235.55L448.16 240.66L448.53 248.74L448.65 256.9L448.53 265.06L448.16 273.14L447.85 277.35L449.56 277.47L452.43 277.74L455.26 278.05L458.04 278.42L460.78 278.85L463.47 279.32L466.12 279.84L468.71 280.42L471.24 281.04L473.72 281.71L476.15 282.42L478.51 283.18L480.8 283.98L483.03 284.83L485.19 285.71L487.28 286.64L489.3 287.6L491.24 288.6L493.11 289.64L494.89 290.71L496.59 291.82L498.21 292.96L499.74 294.13L501.18 295.33L502.53 296.56L503.78 297.82L504.94 299.1L506 300.41L506.95 301.75L507.81 303.11L508.55 304.49L509.19 305.89L509.72 307.32L510.13 308.76L510.43 310.22L510.61 311.69L510.68 313.18L510.61 314.67L510.43 316.15L510.13 317.61L509.72 319.05L509.19 320.47L508.55 321.87L507.81 323.25L506.95 324.61L506 325.95L504.94 327.26L503.78 328.55L502.53 329.8L501.18 331.03L499.74 332.24L498.21 333.41L496.59 334.54L494.89 335.65L493.11 336.72L491.24 337.76L489.3 338.76L487.28 339.73L485.19 340.65L483.03 341.54L480.8 342.38L478.51 343.18L476.15 343.94L473.72 344.65L471.24 345.32L468.71 345.95L466.12 346.52L463.47 347.04L460.78 347.52L458.04 347.94L455.26 348.31L452.43 348.63L449.56 348.89L446.66 349.1L443.71 349.24L440.74 349.33L437.74 349.36L434.73 349.33L431.83 349.25L429.66 354.66L426.78 361.24L423.72 367.65L420.49 373.89L417.08 379.94L413.52 385.82L409.79 391.5L405.9 396.98L401.87 402.25L397.68 407.32L393.36 412.17L388.9 416.79L384.31 421.18L379.59 425.34L374.75 429.25L369.79 432.91L364.71 436.32L359.53 439.46L354.24 442.33L348.86 444.93L343.38 447.25L337.81 449.28L332.15 451.01L326.42 452.44L320.61 453.57L314.73 454.38L308.78 454.87L304.07 455L300.47 454.98L296.76 454.87L290.81 454.38L284.93 453.57L279.12 452.44L273.39 451.01L267.73 449.28L262.16 447.25L256.68 444.93L251.3 442.33L246.01 439.46L240.83 436.32L235.75 432.91L230.79 429.25L225.95 425.34L221.23 421.18L216.64 416.79L212.18 412.17L207.86 407.32L203.67 402.25L199.64 396.98L195.75 391.5L192.03 385.82L188.46 379.94L185.05 373.89L181.82 367.65L178.76 361.24L175.88 354.66L173.18 347.92L170.68 341.03L168.36 333.99L166.25 326.81L164.33 319.5L162.63 312.06L161.13 304.49L159.86 296.81L158.8 289.02L157.97 281.13L157.38 273.14L157.01 265.06L156.89 256.9L157.01 248.74L157.38 240.66L157.55 238.4L157.37 237.76L157.01 235.51L156.89 233.24L157.01 230.97L157.37 228.72L157.97 226.5L158.8 224.3L159.85 222.13L161.12 220L162.61 217.89L164.3 215.82L166.21 213.79L168.32 211.79L170.62 209.83L173.12 207.91L175.81 206.04L178.67 204.21L181.72 202.42L184.94 200.69L188.33 199L191.89 197.37L195.6 195.79L199.47 194.26L203.49 192.79L207.66 191.38L211.96 190.04L216.4 188.75L220.98 187.53L225.68 186.37L230.5 185.28L235.44 184.26L240.5 183.32L245.66 182.44L250.93 181.64L256.29 180.92L261.75 180.27L267.3 179.71L272.93 179.23L278.64 178.83L284.43 178.51L290.29 178.29L296.21 178.15L302.2 178.11L308.18 178.15L314.11 178.29L319.96 178.51L319.96 178.51L325.75 178.83Z'
// ]

const paths = [
  'M38.04 0.62C17.87 0.62 1.53 20.7 1.53 45.47C1.52 114.07 74.54 148.11 74.54 150C74.54 150 74.54 150 74.54 150C74.54 148.11 147.56 114.07 147.56 45.47C147.56 20.69 131.21 0.61 111.05 0.61C90.89 0.61 74.54 18.21 74.55 42.98C74.55 18.21 58.2 0.62 38.04 0.62Z',
  'M48.46 28.63C35.32 28.63 24.67 40.4 24.67 54.92C24.67 95.14 72.26 115.09 72.26 116.2C72.26 116.2 72.26 116.2 72.26 116.2C72.26 115.09 119.85 95.14 119.85 54.92C119.85 40.4 109.2 28.63 96.06 28.63C82.91 28.63 72.26 38.94 72.26 53.46C72.26 38.94 61.61 28.63 48.46 28.63Z',
  'M38.04 0.62C17.87 0.62 1.53 20.7 1.53 45.47C1.52 114.07 74.54 148.11 74.54 150C74.54 150 74.54 150 74.54 150C74.54 148.11 147.56 114.07 147.56 45.47C147.56 20.69 131.21 0.61 111.05 0.61C90.89 0.61 74.54 18.21 74.55 42.98C74.55 18.21 58.2 0.62 38.04 0.62Z',
  'M79.23 16.03L81.25 16.19L83.24 16.38L85.2 16.61L87.13 16.87L89.02 17.17L90.88 17.49L92.7 17.85L94.49 18.23L96.23 18.65L97.94 19.09L99.6 19.56L101.21 20.05L102.78 20.57L104.3 21.12L105.78 21.69L107.2 22.29L108.56 22.91L109.87 23.55L111.13 24.21L112.33 24.9L113.47 25.6L114.54 26.32L115.55 27.07L116.5 27.83L117.39 28.6L118.2 29.4L118.94 30.21L119.62 31.04L120.22 31.88L120.74 32.73L121.19 33.6L121.56 34.48L121.86 35.37L122.07 36.27L122.19 37.18L122.24 38.1L122.19 39.01L122.34 39.04L122.47 41.11L122.6 44.39L122.64 47.7L122.6 51.01L122.47 54.29L122.36 56L123.78 56.13L125.37 56.34L126.93 56.61L128.44 56.93L129.91 57.29L131.33 57.71L132.69 58.18L134 58.69L135.25 59.25L136.43 59.85L137.55 60.48L138.6 61.16L139.58 61.87L140.48 62.62L141.3 63.39L142.03 64.2L142.68 65.04L143.24 65.9L143.7 66.79L144.07 67.7L144.33 68.63L144.5 69.57L144.55 70.54L144.5 71.5L144.33 72.45L144.07 73.38L143.7 74.29L143.24 75.18L142.68 76.04L142.03 76.88L141.3 77.68L140.48 78.46L139.58 79.21L138.6 79.92L137.55 80.59L136.43 81.23L135.25 81.83L134 82.39L132.69 82.9L131.33 83.36L129.91 83.78L128.44 84.15L126.93 84.47L125.37 84.73L123.78 84.94L122.14 85.1L120.48 85.19L118.79 85.22L117.09 85.19L116.7 85.17L115.93 87.37L114.92 90.04L113.84 92.64L112.69 95.17L111.49 97.63L110.23 100.01L108.91 102.31L107.54 104.54L106.12 106.68L104.64 108.73L103.11 110.7L101.54 112.58L99.91 114.36L98.25 116.04L96.54 117.63L94.78 119.12L92.99 120.5L91.16 121.77L89.29 122.94L87.39 123.99L85.46 124.93L83.49 125.76L81.49 126.46L79.47 127.04L77.41 127.5L75.34 127.83L73.24 128.03L71.57 128.08L70.3 128.07L68.99 128.03L66.89 127.83L64.81 127.5L62.76 127.04L60.73 126.46L58.74 125.76L56.77 124.93L54.83 123.99L52.93 122.94L51.06 121.77L49.23 120.5L47.44 119.12L45.69 117.63L43.98 116.04L42.31 114.36L40.69 112.58L39.11 110.7L37.59 108.73L36.11 106.68L34.68 104.54L33.31 102.31L31.99 100.01L30.73 97.63L29.53 95.17L28.39 92.64L27.31 90.04L26.29 87.37L25.34 84.63L24.45 81.84L23.64 78.98L22.89 76.07L22.21 73.1L21.61 70.08L21.08 67.01L20.63 63.9L20.26 60.74L19.97 57.53L19.76 54.29L19.63 51.01L19.58 47.7L19.63 44.39L19.76 41.11L19.82 40.2L19.75 39.94L19.63 39.03L19.58 38.1L19.63 37.18L19.75 36.27L19.96 35.37L20.26 34.48L20.63 33.6L21.08 32.73L21.6 31.88L22.2 31.04L22.88 30.21L23.62 29.4L24.43 28.6L25.32 27.83L26.27 27.07L27.28 26.32L28.35 25.6L29.49 24.9L30.69 24.21L31.95 23.55L33.26 22.91L34.62 22.29L36.04 21.69L37.52 21.12L39.04 20.57L40.61 20.05L42.22 19.56L43.88 19.09L45.59 18.65L47.33 18.23L49.12 17.85L50.94 17.49L52.8 17.17L54.69 16.87L56.62 16.61L58.58 16.38L60.57 16.19L62.59 16.03L64.63 15.9L66.7 15.81L68.8 15.75L70.91 15.73L73.02 15.75L75.12 15.81L77.19 15.9L77.19 15.9L79.23 16.03Z'
]

const interpolators = []
for (let i = 0; i < paths.length; i++) {
  interpolators.push(
    interpolate(paths[i], paths[i + 1] || paths[0], { maxSegmentLength: 0.1 })
  )
}

class Morphs extends Component {
    state = { interpolators, index: 0 };
    goNext = () =>
      this.setState(({ index, interpolators }) => ({
        index: index + 1 >= interpolators.length ? 0 : index + 1,
      }))
    render() {
      const { interpolators, index } = this.state
      const interpolator = interpolators[index]
      return (
        <div
          style={{
            background: '#00BFFF',
            width: '100%',
            height: '100%',
            display: 'flex',
            justifyContent: 'center',
            alignItems: 'center',
          }}>
          <svg width="150" viewBox="0 0 150 150">
            <Gradient id="gradient-morph" />
            <g fill="#0080ff">
              <Spring
                reset
                native
                from={{ t: 0 }}
                to={{ t: 1 }}
                onRest={this.goNext}>
                {({ t }) => <animated.path d={t.interpolate(interpolator)} />}
              </Spring>
            </g>
          </svg>
        </div>
      )
    }
}

export default Morphs;